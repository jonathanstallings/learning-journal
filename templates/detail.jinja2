{% extends "base.jinja2" %}
{% block body %}
  <section id="entry-detail">
    <div class="container">
      <article data-entry-id="{{ entry.id }}">
        <h1 id="title-detail">{{ entry.title|safe }}</h1>
        <span id="date-detail" class="date">{{ entry.created.strftime('%b. %d, %Y') }}</span>
        {% if request.authenticated_userid %}
        <a id="edit-button" class="button pull-right" href="{{ request.route_url('edit', id=entry.id) }}">Edit</a>
        <div id="twitter-button-div" class="clearfix pull-right">
           <a target="_blank" href="http://twitter.com/home?status={{ entry.title }} {{ request.route_url('detail', id=entry.id) }}"><img src="/static/twitter.png" alt="Twitter" class='twitter-button'></a>
        </div>
        {% endif %}
        <hr />
        <div id="text-detail">{{ entry.markdown|safe }}</div>
      </article>
    </div>
  </section>
  {% if request.authenticated_userid %}
  <section id="entry-edit" class="hidden">
    <div class="container">
      <h3>Edit Entry</h3>
      <form action="{{ request.route_url('edit', id=entry.id) }}" method="post">
      <ul>
        <li>
          <label for="title">Title</label>
          <input type="text" name="title" id="title-edit" value="{{ entry.title }}" size="30" maxlength="60" required autofocus/>
        </li>
        <li>
          <label for="text">Text</label>
          <textarea name="text" id="text-edit" cols="60" rows="20" required>{{ entry.text|safe }}</textarea>
        </li>
        <li>
          <div id="form-buttons">
            <input type="submit" id="save-button"  class="button" value="Save" />
            <a id="cancel-button" class="button" href="{{ request.route_url('detail', id=entry.id) }}">Cancel</a>
          </div>
        </li>
      </ul>
      </form>
    </div>
  </section>
  {% endif %}
{% endblock %}
